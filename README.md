# **MCKU & FSKU**
운영체제 과목 과제 프로젝트입니다.

<br/>

# **Assignment1 MCKU**

## **MCKU 소개**
- 이 과제는 가상의 운영체제 MS쿠의 동작을 시뮬레이션하는 것 입니다.
- 이 시뮬레이션은 메모리 관리 (가상 메모리 시스템), CPU 스케줄링, 페이지 폴트 핸들링 등 핵심적인 운영체제 기능들을 포함합니다.

<br/>

## **MCKU 사전 조건**
1. 주소 지정: 8비트 주소 지정 방식을 사용하며, 주소 공간은 256바이트, 페이지 크기는 16바이트입니다.
2. 페이지 테이블: 선형 페이지 테이블을 사용하며,유효 비트(V)와 사용되지 않는 비트(U)가 포함됩니다. 또한 페이지 테이블에는 16개 엔트리가 있습니다.
3. 스케줄링: 라운드 로빈(RR) 스케줄링을 사용하며, 각 작업은 일정 시간(타임 슬라이스) 동안 실행됩니다.
4. 프로세스 제어 블록(PCB): 프로세스의 상태를 저장하고 관리하는 구조체로 프로그램 카운터, 파일 디스크립터, 페이지 테이블의 기본 주소 등이 PCB에 포함됩니다.

<br/>

## **핵심 기능 함수**
- ku_os_init: 시스템 초기화를 담당하는 함수로, 스케줄러, 페이지 폴트 핸들러, 종료 함수 등을 초기화합니다.
- ku_scheduler: CPU 스케줄러를 구현하는 함수로, 라운드 로빈 스케줄링 알고리즘을 사용하여 프로세스를 스케줄링합니다.
- ku_pgfault_handler: 페이지 폴트 핸들러를 구현한 함수로 요청된 가상 주소의 페이지 테이블 엔트리를 업데이트하고, 빈 페이지 프레임을 찾아 페이지 테이블을 업데이트 합니다.
- ku_proc_exit: 프로세스 종료 함수로, 프로세스의 페이지 테이블, 파일 디스크립터를 해제하고 프로세스 리스트에서 해당 프로세스를 제거합니다.
- ku_proc_init: 실행 프로세스를 초기화하는 함수로, 프로세스 제어 블록을 초기화하고 페이지 테이블에 메모리를 할당하며 또한, 파일 디스크립터를 초기화 합니다.

<br/>

# **Assignment2 FCKU**

## **MCKU 소개**
- 이 과제는 가상의 운영체제 FC쿠의 동작을 에뮬레이션하는 것 입니다.
- 이 에뮬레이션은 주로 파일 I/O 연산, 메모리 관리, 디렉토리 구조 등 핵심적인 파일 시스템의 기능들을 포함합니다.

<br/>

## **MCKU 사전 조건**
1. 전체 구조 : 이 시스템에서 블록 크기는 512 바이트이며, 전체 파티션 크기는 32KB로, 이는 64개의 블록으로 구성됩니다. 이 파티션은 메모리에 위치합니다. 각 inode의 크기는 16 바이트이며, 하나의 블록에는 32개의 inode가 존재합니다. 따라서 총 64개의 inode가 존재하게 됩니다.
2. inode : inode는 파일의 메타데이터를 담고 있는 데이터 구조입니다. 이 과제에서 각 inode는 16 바이트 크기로, 파일 크기(fsize), 할당된 블록 수(blocks), 직접 포인터(dptr), 간접 포인터(iptr) 등의 정보를 담고 있습니다.
3. 디렉토리 구조 : 이 과제는 복잡한 디렉토리 구조를 고려하지 않고, 오직 루트(/) 디렉토리만을 고려합니다. 따라서 하위 디렉토리는 존재하지 않으며, 파일 이름은 두 개의 알파벳으로 표현됩니다.

<br/>

## **핵심 기능 함수**
비트맵 설정과 비트맵 및 블록 할당 및 초기화 함수
- setimap, setdmap: Inode 비트맵과 데이터 블록 비트맵을 설정하는 함수입니다.
- getFreeImap, getFreeDmap: 비어있는 Inode 비트와 비어있는 데이터 블록 비트를 찾는 함수입니다.
- checkFreeDmap: 주어진 개수의 데이터 블록이 있는지 확인합니다.
- ku_fs_init: 파일 시스템을 초기화하는 함수로, 메모리 할당, 비트맵 설정, 루트 Inode 초기화를 수행합니다.
<파일 생성, 쓰기, 읽기, 삭제 함수>
- allocateIptr: 간접 블록 포인터에 필요한 빈 데이터 블록을 할당하는 함수입니다.
- writeBlock: 블록에 데이터를 쓰는 함수입니다.
- newWrite, existWrite: 새로운 파일에 데이터를 쓰는 함수와, 이미 존재하는 파일에 데이터를 쓰는 함수입니다.
- createFile: 새로운 파일을 생성하는 함수로 Inode 및 데이터 블록을 할당하고 루트 디렉토리에 파일 정보를 업데이트 합니다.
- readBlock, readFile : 각각 블록과 파일에서 데이터를 읽는 함수입니다.
- deleteBlock : 데이터 블록을 삭제하고 해당 비트맵을 업데이트하는 함수입니다.
